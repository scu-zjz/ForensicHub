# DDP
gpus: "0"
flag: train

# Log
log_dir: "./log/aigc_resnet_df_train"

# Task
if_predict_label: true
if_predict_mask: false

# # Model
# model:
#   name: Resnet50
#   # Model specific setting
#   init_config:
#     pretrained: true
#     num_classes: 1

# # Train dataset
# train_dataset:
#   name: AIGCLabelDataset
#   dataset_name: DiffusionForensics_train
#   init_config:
#     image_size: 224
#     path: /mnt/data1/public_datasets/AIGC/DiffusionForensics/images/train.json
# #  Test dataset (one or many)
# test_dataset:
#   - name: AIGCLabelDataset
#     dataset_name: DiffusionForensics_test
#     init_config:
#       image_size: 224
#       path: /mnt/data1/public_datasets/AIGC/DiffusionForensics/images/test.json

# # Transform
# transform:
#   name: AIGCTransform

deepfake_config: '/mnt/data1/xuekang/workspace/DeepfakeBench/DeepfakeBench/training/config/config/detector/sbi.yaml'

rgb_dir : '/mnt/data1/xuekang/workspace/Wrapper/datasets/rgb'

dataset_json_folder : '/mnt/data1/xuekang/workspace/DeepfakeBench/DeepfakeBench/preprocessing/dataset_json'

# Training related
batch_size: 32
test_batch_size: 4
epochs: 10
accum_iter: 1

# Test related
no_model_eval: false
test_period: 1

# Logging & TensorBoard
log_per_epoch_count: 1

# DDP & AMP settings
find_unused_parameters: true
if_not_amp: true

# Optimizer parameters
weight_decay: 0.05
lr: 2e-4
blr: 0.001
min_lr: 2e-4
warmup_epochs: 1

# Device and training control
device: "cuda"
seed: 42
resume: ""
start_epoch: 0
num_workers: 8
pin_mem: true

# Distributed training parameters
world_size: 1
local_rank: -1
dist_on_itp: false
dist_url: "env://"

ddp: true

label_dict:
  # DFD
  DFD_fake: 1
  DFD_real: 0
  # FF++ + FaceShifter(FF-real+FF-FH)
  FF-SH: 1
  FF-F2F: 1
  FF-DF: 1
  FF-FS: 1
  FF-NT: 1
  FF-FH: 1
  FF-real: 0
  # CelebDF
  CelebDFv1_real: 0
  CelebDFv1_fake: 1
  CelebDFv2_real: 0
  CelebDFv2_fake: 1
  # DFDCP
  DFDCP_Real: 0
  DFDCP_FakeA: 1
  DFDCP_FakeB: 1
  # DFDC
  DFDC_Fake: 1
  DFDC_Real: 0
  # DeeperForensics-1.0
  DF_fake: 1
  DF_real: 0
  # UADFV
  UADFV_Fake: 1
  UADFV_Real: 0
  # Roop
  roop_Real: 0
  roop_Fake: 1